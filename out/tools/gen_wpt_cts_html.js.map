{"version":3,"sources":["../../src/tools/gen_wpt_cts_html.ts"],"names":["promises","fs","listing","result","readFile","ls","l","path","length","endsWith","writeFile"],"mappings":";;;;AAAA,SAASA,QAAQ,IAAIC,EAArB,QAA+B,IAA/B;AAGA,SAASC,OAAT,QAAwB,wBAAxB,C,CAEA;;AAEA,CAAC,YAAY;AACX,MAAIC,MAAM,GAAG,EAAb;AACAA,EAAAA,MAAM,IAAI,mEAAV;AAEAA,EAAAA,MAAM,IAAI,MAAMF,EAAE,CAACG,QAAH,CAAY,oBAAZ,EAAkC,MAAlC,CAAhB;AACAD,EAAAA,MAAM,IAAI,IAAV;AAEA,QAAME,EAAE,GAAI,MAAMH,OAAlB;;AACA,OAAK,MAAMI,CAAX,IAAgBD,EAAhB,EAAoB;AAClB,QAAIC,CAAC,CAACC,IAAF,CAAOC,MAAP,KAAkB,CAAlB,IAAuBF,CAAC,CAACC,IAAF,CAAOE,QAAP,CAAgB,GAAhB,CAA3B,EAAiD;AAC/C;AACA;AACD;;AACDN,IAAAA,MAAM,IAAK,sCAAqCG,CAAC,CAACC,IAAK,OAAvD;AACD;;AAED,SAAON,EAAE,CAACS,SAAH,CAAa,oBAAb,EAAmCP,MAAnC,CAAP;AACD,CAjBD","sourcesContent":["import { promises as fs } from 'fs';\n\nimport { TestSuiteListingEntry } from '../framework/listing.js';\nimport { listing } from '../suites/cts/index.js';\n\n// TODO(kainino0x): Make this file able to take a list of suppressions as input, and a custom output file.\n\n(async () => {\n  let result = '';\n  result += '<!-- AUTO-GENERATED - DO NOT EDIT. See gen_wpt_cts_html.ts. -->\\n';\n\n  result += await fs.readFile('templates/cts.html', 'utf8');\n  result += '\\n';\n\n  const ls = (await listing) as TestSuiteListingEntry[];\n  for (const l of ls) {\n    if (l.path.length === 0 || l.path.endsWith('/')) {\n      // This is a readme.\n      continue;\n    }\n    result += `<meta name=variant content='?q=cts:${l.path}:'>\\n`;\n  }\n\n  return fs.writeFile('./out-wpt/cts.html', result);\n})();\n"],"file":"gen_wpt_cts_html.js"}