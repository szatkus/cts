{"version":3,"sources":["../../../../src/suites/cts/validation/createView.spec.ts"],"names":["description","TestGroup","ValidationTest","ARRAY_LAYER_COUNT_2D","MIP_LEVEL_COUNT","FORMAT","F","createTexture","options","width","height","arrayLayerCount","mipLevelCount","sampleCount","device","size","depth","dimension","format","usage","GPUTextureUsage","SAMPLED","getDescriptor","baseMipLevel","baseArrayLayer","g","test","t","_success","params","texture","descriptor","expectValidationError","createView","nonSquareTexture","destroy","commandEncoder","createCommandEncoder","renderPass","beginRenderPass","colorAttachments","attachment","loadValue","r","b","a","endPass","finish"],"mappings":"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","sourcesContent":["export const description = `\ncreateView validation tests.\n`;\n\nimport { TestGroup } from '../../../framework/index.js';\n\nimport { ValidationTest } from './validation_test.js';\n\nconst ARRAY_LAYER_COUNT_2D = 6;\nconst MIP_LEVEL_COUNT: number = 6;\nconst FORMAT: GPUTextureFormat = 'rgba8unorm';\n\nclass F extends ValidationTest {\n  createTexture(\n    options: {\n      width?: number;\n      height?: number;\n      arrayLayerCount?: number;\n      mipLevelCount?: number;\n      sampleCount?: number;\n    } = {}\n  ): GPUTexture {\n    const {\n      width = 32,\n      height = 32,\n      arrayLayerCount = 1,\n      mipLevelCount = MIP_LEVEL_COUNT,\n      sampleCount = 1,\n    } = options;\n\n    return this.device.createTexture({\n      size: { width, height, depth: 1 },\n      arrayLayerCount,\n      mipLevelCount,\n      sampleCount,\n      dimension: '2d',\n      format: FORMAT,\n      usage: GPUTextureUsage.SAMPLED,\n    });\n  }\n\n  getDescriptor(\n    options: {\n      format?: GPUTextureFormat;\n      dimension?: GPUTextureViewDimension;\n      baseMipLevel?: number;\n      mipLevelCount?: number;\n      baseArrayLayer?: number;\n      arrayLayerCount?: number;\n    } = {}\n  ): GPUTextureViewDescriptor {\n    const {\n      format = FORMAT,\n      dimension = '2d',\n      baseMipLevel = 0,\n      mipLevelCount = MIP_LEVEL_COUNT,\n      baseArrayLayer = 0,\n      arrayLayerCount = 1,\n    } = options;\n    return {\n      format,\n      dimension,\n      baseMipLevel,\n      mipLevelCount,\n      baseArrayLayer,\n      arrayLayerCount,\n    };\n  }\n}\n\nexport const g = new TestGroup(F);\n\ng.test('creating texture view on a 2D non array texture', async t => {\n  const { dimension = '2d', arrayLayerCount, mipLevelCount, baseMipLevel, _success } = t.params;\n\n  const texture = t.createTexture({ arrayLayerCount: 1 });\n\n  const descriptor = t.getDescriptor({\n    dimension,\n    arrayLayerCount,\n    mipLevelCount,\n    baseMipLevel,\n  });\n\n  t.expectValidationError(() => {\n    texture.createView(descriptor);\n  }, !_success);\n}).params([\n  { _success: true }, // default view works\n  { arrayLayerCount: 1, _success: true }, // it is OK to create a 2D texture view on a 2D texture\n  { arrayLayerCount: 2, _success: false }, // it is an error to view a layer past the end of the texture\n  { dimension: '2d-array', arrayLayerCount: 1, _success: true }, // it is OK to create a 1-layer 2D array texture view on a 2D texture\n  // mip level is in range\n  { mipLevelCount: 1, baseMipLevel: MIP_LEVEL_COUNT - 1, _success: true },\n  { mipLevelCount: 2, baseMipLevel: MIP_LEVEL_COUNT - 2, _success: true },\n  // baseMipLevel == k && mipLevelCount == 0 means to use levels k..end\n  { mipLevelCount: 0, baseMipLevel: 0, _success: true },\n  { mipLevelCount: 0, baseMipLevel: 1, _success: true },\n  { mipLevelCount: 0, baseMipLevel: MIP_LEVEL_COUNT - 1, _success: true },\n  { mipLevelCount: 0, baseMipLevel: MIP_LEVEL_COUNT, _success: false },\n  // it is an error to make the mip level out of range\n  { mipLevelCount: MIP_LEVEL_COUNT + 1, baseMipLevel: 0, _success: false },\n  { mipLevelCount: MIP_LEVEL_COUNT, baseMipLevel: 1, _success: false },\n  { mipLevelCount: 2, baseMipLevel: MIP_LEVEL_COUNT - 1, _success: false },\n  { mipLevelCount: 1, baseMipLevel: MIP_LEVEL_COUNT, _success: false },\n]);\n\ng.test('creating texture view on a 2D array texture', async t => {\n  const { dimension = '2d-array', arrayLayerCount, baseArrayLayer, _success } = t.params;\n\n  const texture = t.createTexture({ arrayLayerCount: ARRAY_LAYER_COUNT_2D });\n\n  const descriptor = t.getDescriptor({\n    dimension,\n    arrayLayerCount,\n    baseArrayLayer,\n  });\n\n  t.expectValidationError(() => {\n    texture.createView(descriptor);\n  }, !_success);\n}).params([\n  { _success: true }, // default view works\n  { dimension: '2d', arrayLayerCount: 1, _success: true }, // it is OK to create a 2D texture view on a 2D array texture\n  { arrayLayerCount: ARRAY_LAYER_COUNT_2D, _success: true }, // it is OK to create a 2D array texture view on a 2D array texture\n  // baseArrayLayer == k && arrayLayerCount == 0 means to use layers k..end.\n  { arrayLayerCount: 0, baseArrayLayer: 0, _success: true },\n  { arrayLayerCount: 0, baseArrayLayer: 1, _success: true },\n  { arrayLayerCount: 0, baseArrayLayer: ARRAY_LAYER_COUNT_2D - 1, _success: true },\n  { arrayLayerCount: 0, baseArrayLayer: ARRAY_LAYER_COUNT_2D, _success: false },\n  // It is an error for the array layer range of the view to exceed that of the texture\n  { arrayLayerCount: ARRAY_LAYER_COUNT_2D + 1, baseArrayLayer: 0, _success: false },\n  { arrayLayerCount: ARRAY_LAYER_COUNT_2D, baseArrayLayer: 1, _success: false },\n  { arrayLayerCount: 2, baseArrayLayer: ARRAY_LAYER_COUNT_2D - 1, _success: false },\n  { arrayLayerCount: 1, baseArrayLayer: ARRAY_LAYER_COUNT_2D, _success: false },\n]);\n\ng.test(\n  'Using defaults validates the same as setting values for more than 1 array layer',\n  async t => {\n    const { format, dimension, arrayLayerCount, mipLevelCount, _success } = t.params;\n\n    const texture = t.createTexture({ arrayLayerCount: ARRAY_LAYER_COUNT_2D });\n\n    const descriptor = { format, dimension, arrayLayerCount, mipLevelCount };\n\n    t.expectValidationError(() => {\n      texture.createView(descriptor);\n    }, !_success);\n  }\n).params([\n  { _success: true },\n  { format: 'rgba8unorm', _success: true },\n  { format: 'r8unorm', _success: false },\n  { dimension: '2d-array', _success: true },\n  { dimension: '2d', _success: false },\n  { arrayLayerCount: ARRAY_LAYER_COUNT_2D, _success: false }, // setting array layers to non-0 means the dimensionality will default to 2D so by itself it causes an error.\n  { arrayLayerCount: ARRAY_LAYER_COUNT_2D, dimension: '2d-array', _success: true },\n  {\n    arrayLayerCount: ARRAY_LAYER_COUNT_2D,\n    dimension: '2d-array',\n    mipLevelCount: MIP_LEVEL_COUNT,\n    _success: true,\n  },\n]);\n\ng.test('Using defaults validates the same as setting values for only 1 array layer', async t => {\n  const { format, dimension, arrayLayerCount, mipLevelCount, _success } = t.params;\n\n  const texture = t.createTexture({ arrayLayerCount: 1 });\n\n  const descriptor = { format, dimension, arrayLayerCount, mipLevelCount };\n\n  t.expectValidationError(() => {\n    texture.createView(descriptor);\n  }, !_success);\n}).params([\n  { _success: true },\n  { format: 'rgba8unorm', _success: true },\n  { format: 'r8unorm', _success: false },\n  { dimension: '2d-array', _success: true },\n  { dimension: '2d', _success: true },\n  { arrayLayerCount: 0, _success: true },\n  { arrayLayerCount: 1, _success: true },\n  { arrayLayerCount: 2, _success: false },\n  { mipLevelCount: MIP_LEVEL_COUNT, _success: true },\n  { mipLevelCount: 1, _success: true },\n]);\n\ng.test('creating cube map texture view', async t => {\n  const { dimension = '2d-array', arrayLayerCount, _success } = t.params;\n\n  const texture = t.createTexture({ arrayLayerCount: 16 });\n\n  const descriptor = t.getDescriptor({\n    dimension,\n    arrayLayerCount,\n  });\n\n  t.expectValidationError(() => {\n    texture.createView(descriptor);\n  }, !_success);\n}).params([\n  { dimension: 'cube', arrayLayerCount: 6, _success: true }, // it is OK to create a cube map texture view with arrayLayerCount == 6\n  // it is an error to create a cube map texture view with arrayLayerCount != 6\n  { dimension: 'cube', arrayLayerCount: 3, _success: false },\n  { dimension: 'cube', arrayLayerCount: 7, _success: false },\n  { dimension: 'cube', arrayLayerCount: 12, _success: false },\n  { dimension: 'cube', _success: false },\n  { dimension: 'cube-array', arrayLayerCount: 12, _success: true }, // it is OK to create a cube map array texture view with arrayLayerCount % 6 == 0\n  // it is an error to create a cube map array texture view with arrayLayerCount % 6 != 0\n  { dimension: 'cube-array', arrayLayerCount: 11, _success: false },\n  { dimension: 'cube-array', arrayLayerCount: 13, _success: false },\n]);\n\ng.test('creating cube map texture view with a non square texture', async t => {\n  const { dimension, arrayLayerCount } = t.params;\n\n  const nonSquareTexture = t.createTexture({\n    arrayLayerCount: 18,\n    width: 32,\n    height: 16,\n    mipLevelCount: 5,\n  });\n\n  const descriptor = t.getDescriptor({\n    dimension,\n    arrayLayerCount,\n  });\n\n  t.expectValidationError(() => {\n    nonSquareTexture.createView(descriptor);\n  });\n}).params([\n  { dimension: 'cube', arrayLayerCount: 6 }, // it is an error to create a cube map texture view with width != height.\n  { dimension: 'cube-array', arrayLayerCount: 12 }, // it is an error to create a cube map array texture view with width != height.\n]);\n\n// TODO: add more tests when rules are fully implemented.\ng.test('test the format compatibility rules when creating a texture view', async t => {\n  const texture = t.createTexture({ arrayLayerCount: 1 });\n\n  const descriptor = t.getDescriptor({\n    format: 'depth24plus-stencil8',\n  });\n\n  // it is invalid to create a view in depth-stencil format on a RGBA texture\n  t.expectValidationError(() => {\n    texture.createView(descriptor);\n  });\n});\n\ng.test('it is invalid to use a texture view created from a destroyed texture', async t => {\n  const texture = t.createTexture({ arrayLayerCount: 1 });\n\n  texture.destroy();\n\n  const commandEncoder = t.device.createCommandEncoder();\n  const renderPass = commandEncoder.beginRenderPass({\n    colorAttachments: [\n      {\n        attachment: texture.createView(),\n        loadValue: { r: 1.0, g: 0.0, b: 0.0, a: 1.0 },\n      },\n    ],\n  });\n  renderPass.endPass();\n\n  t.expectValidationError(() => {\n    commandEncoder.finish();\n  });\n});\n\n// TODO: Add tests for TextureAspect\n"],"file":"createView.spec.js"}