{"version":3,"sources":["../../../../src/suites/cts/validation/setStencilReference.spec.ts"],"names":["description","TestGroup","poptions","ValidationTest","F","beginRenderPass","commandEncoder","attachmentTexture","device","createTexture","format","size","width","height","depth","usage","GPUTextureUsage","OUTPUT_ATTACHMENT","colorAttachments","attachment","createView","loadValue","r","g","b","a","test","t","reference","params","createCommandEncoder","renderPass","setStencilReference","endPass","finish"],"mappings":";;;;AAAA,OAAO,MAAMA,WAAW,GAAI;;CAArB;AAIP,SAASC,SAAT,EAAoBC,QAApB,QAAoC,6BAApC;AAEA,SAASC,cAAT,QAA+B,sBAA/B,C,CAEA;;AACA,MAAMC,CAAN,SAAgBD,cAAhB,CAA+B;AAC7BE,EAAAA,eAAe,CAACC,cAAD,EAA0D;AACvE,UAAMC,iBAAiB,GAAG,KAAKC,MAAL,CAAYC,aAAZ,CAA0B;AAClDC,MAAAA,MAAM,EAAE,YAD0C;AAElDC,MAAAA,IAAI,EAAE;AAAEC,QAAAA,KAAK,EAAE,EAAT;AAAaC,QAAAA,MAAM,EAAE,EAArB;AAAyBC,QAAAA,KAAK,EAAE;AAAhC,OAF4C;AAGlDC,MAAAA,KAAK,EAAEC,eAAe,CAACC;AAH2B,KAA1B,CAA1B;AAMA,WAAOX,cAAc,CAACD,eAAf,CAA+B;AACpCa,MAAAA,gBAAgB,EAAE,CAChB;AACEC,QAAAA,UAAU,EAAEZ,iBAAiB,CAACa,UAAlB,EADd;AAEEC,QAAAA,SAAS,EAAE;AAAEC,UAAAA,CAAC,EAAE,GAAL;AAAUC,UAAAA,CAAC,EAAE,GAAb;AAAkBC,UAAAA,CAAC,EAAE,GAArB;AAA0BC,UAAAA,CAAC,EAAE;AAA7B;AAFb,OADgB;AADkB,KAA/B,CAAP;AAQD;;AAhB4B;;AAmB/B,OAAO,MAAMF,CAAC,GAAG,IAAItB,SAAJ,CAAcG,CAAd,CAAV;AAEPmB,CAAC,CAACG,IAAF,CAAO,4BAAP,EAAqCC,CAAC,IAAI;AACxC,QAAM;AAAEC,IAAAA;AAAF,MAAgBD,CAAC,CAACE,MAAxB;AAEA,QAAMvB,cAAc,GAAGqB,CAAC,CAACnB,MAAF,CAASsB,oBAAT,EAAvB;AACA,QAAMC,UAAU,GAAGJ,CAAC,CAACtB,eAAF,CAAkBC,cAAlB,CAAnB;AACAyB,EAAAA,UAAU,CAACC,mBAAX,CAA+BJ,SAA/B;AACAG,EAAAA,UAAU,CAACE,OAAX;AACA3B,EAAAA,cAAc,CAAC4B,MAAf;AACD,CARD,EAQGL,MARH,CAQU3B,QAAQ,CAAC,WAAD,EAAc,CAAC,CAAD,EAAI,UAAJ,CAAd,CARlB","sourcesContent":["export const description = `\nsetStencilReference validation tests.\n`;\n\nimport { TestGroup, poptions } from '../../../framework/index.js';\n\nimport { ValidationTest } from './validation_test.js';\n\n// TODO: Move this fixture class to a common file.\nclass F extends ValidationTest {\n  beginRenderPass(commandEncoder: GPUCommandEncoder): GPURenderPassEncoder {\n    const attachmentTexture = this.device.createTexture({\n      format: 'rgba8unorm',\n      size: { width: 16, height: 16, depth: 1 },\n      usage: GPUTextureUsage.OUTPUT_ATTACHMENT,\n    });\n\n    return commandEncoder.beginRenderPass({\n      colorAttachments: [\n        {\n          attachment: attachmentTexture.createView(),\n          loadValue: { r: 1.0, g: 0.0, b: 0.0, a: 1.0 },\n        },\n      ],\n    });\n  }\n}\n\nexport const g = new TestGroup(F);\n\ng.test('use of setStencilReference', t => {\n  const { reference } = t.params;\n\n  const commandEncoder = t.device.createCommandEncoder();\n  const renderPass = t.beginRenderPass(commandEncoder);\n  renderPass.setStencilReference(reference);\n  renderPass.endPass();\n  commandEncoder.finish();\n}).params(poptions('reference', [0, 0xffffffff]));\n"],"file":"setStencilReference.spec.js"}