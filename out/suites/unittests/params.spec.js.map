{"version":3,"sources":["../../../src/suites/unittests/params.spec.ts"],"names":["description","TestGroup","pcombine","pexclude","pfilter","TestGroupTest","UnitTest","g","test","t","fail","params","expect","a","x","y","p","t0","ran","push","expectCases"],"mappings":"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","sourcesContent":["export const description = `\nUnit tests for parameterization.\n`;\n\nimport { ParamSpec, TestGroup, pcombine, pexclude, pfilter } from '../../framework/index.js';\n\nimport { TestGroupTest } from './test_group_test.js';\nimport { UnitTest } from './unit_test.js';\n\nexport const g = new TestGroup(TestGroupTest);\n\ng.test('none', t => {\n  t.fail(\"this test shouldn't run\");\n}).params([]);\n\ng.test('combine none', t => {\n  t.fail(\"this test shouldn't run\");\n}).params(pcombine([]));\n\ng.test('filter', t => {\n  t.expect(t.params.a);\n}).params(\n  pfilter(\n    [\n      { a: true, x: 1 }, //\n      { a: false, y: 2 },\n    ],\n    p => p.a\n  )\n);\n\ng.test('exclude', t => {\n  t.expect(t.params.a);\n}).params(\n  pexclude(\n    [\n      { a: true, x: 1 }, //\n      { a: false, y: 2 },\n    ],\n    [\n      { a: true }, //\n      { a: false, y: 2 },\n    ]\n  )\n);\n\ng.test('generator', t0 => {\n  const g = new TestGroup(UnitTest);\n\n  const ran: ParamSpec[] = [];\n\n  g.test('generator', t => {\n    ran.push(t.params);\n  }).params(\n    (function*(): IterableIterator<ParamSpec> {\n      for (let x = 0; x < 3; ++x) {\n        for (let y = 0; y < 2; ++y) {\n          yield { x, y };\n        }\n      }\n    })()\n  );\n\n  t0.expectCases(g, [\n    { test: 'generator', params: { x: 0, y: 0 } },\n    { test: 'generator', params: { x: 0, y: 1 } },\n    { test: 'generator', params: { x: 1, y: 0 } },\n    { test: 'generator', params: { x: 1, y: 1 } },\n    { test: 'generator', params: { x: 2, y: 0 } },\n    { test: 'generator', params: { x: 2, y: 1 } },\n  ]);\n});\n"],"file":"params.spec.js"}